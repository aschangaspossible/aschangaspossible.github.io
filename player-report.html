<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Academy Performance Report｜球員體能報告</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- 可選：Chart.js，之後你要畫圖再開啟 -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->

  <style>
    /* ========= 全局設定 ========= */
    :root {
      --bg-page: #020617;
      --bg-card: #02081a;
      --bg-card-soft: #020b24;
      --border-soft: rgba(148, 163, 184, 0.35);
      --text-main: #e5f0ff;
      --text-sub: #9ca3af;
      --accent: #22c55e;
      --accent-soft: rgba(34, 197, 94, 0.12);
      --danger: #f97373;
      --warn: #f97316;
      --badge-green: #16a34a;
      --badge-blue: #0ea5e9;
      --badge-yellow: #eab308;
      --badge-red: #ef4444;
      --badge-text: #f9fafb;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        "Noto Sans TC", sans-serif;
      background: radial-gradient(circle at top left, #0b1635 0, #020617 40%, #000 100%);
      color: var(--text-main);
    }

    body {
      padding: 32px 16px;
      display: flex;
      justify-content: center;
    }

    .report-shell {
      width: 100%;
      max-width: 1160px;
      background: linear-gradient(145deg, rgba(15, 23, 42, 0.96), #020617);
      border-radius: 24px;
      border: 1px solid var(--border-soft);
      box-shadow: 0 32px 80px rgba(15, 23, 42, 0.9);
      padding: 28px 28px 32px;
      position: relative;
      overflow: hidden;
    }

    .report-shell::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 0 0, rgba(45, 212, 191, 0.22) 0, transparent 45%),
        radial-gradient(circle at 100% 100%, rgba(59, 130, 246, 0.22) 0, transparent 45%);
      opacity: 0.9;
      pointer-events: none;
    }

    .report-inner {
      position: relative;
      z-index: 1;
    }

    h1, h2, h3, h4 {
      margin: 0;
      font-weight: 600;
    }

    .muted {
      color: var(--text-sub);
      font-size: 0.9rem;
    }

    .section {
      margin-top: 20px;
      padding: 18px 20px;
      border-radius: 18px;
      background: radial-gradient(circle at top left, rgba(51, 65, 85, 0.5) 0, rgba(15,23,42,0.9) 55%);
      border: 1px solid rgba(148, 163, 184, 0.35);
    }

    .section + .section {
      margin-top: 16px;
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }

    .section-header .dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 10px rgba(34, 197, 94, 0.9);
    }

    .section-header h2 {
      font-size: 1rem;
      letter-spacing: 0.03em;
    }

    /* ========= 頁首 ========= */
    .header-row {
      display: flex;
      justify-content: space-between;
      gap: 24px;
      align-items: center;
      margin-bottom: 10px;
    }

    .title-block {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .logo-row {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.92rem;
      color: var(--text-sub);
    }

    .logo-circle {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, #facc15 0, #22c55e 55%, #16a34a 100%);
      box-shadow: 0 0 12px rgba(34, 197, 94, 0.7);
    }

    .report-title {
      font-size: 1.4rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
    }

    .controls-row {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: rgba(15, 23, 42, 0.7);
      color: var(--text-main);
      font-size: 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .btn-primary {
      border-color: rgba(56, 189, 248, 0.9);
      background: linear-gradient(135deg, #0ea5e9, #22c55e);
      color: #0b1020;
      font-weight: 600;
    }

    .btn:disabled {
      opacity: 0.7;
      cursor: default;
    }

    /* ========= 基本資料區 ========= */
    .profile-grid {
      display: grid;
      grid-template-columns: 2.1fr 1.4fr;
      gap: 16px;
    }

    .profile-cards {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }

    .card {
      padding: 12px 14px;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(15,23,42,0.9), rgba(15,23,42,0.6));
      border: 1px solid rgba(148, 163, 184, 0.45);
    }

    .card-title {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--text-sub);
      margin-bottom: 6px;
    }

    .card-main-line {
      font-size: 1rem;
      font-weight: 600;
    }

    .card-sub-line {
      font-size: 0.85rem;
      color: var(--text-sub);
      margin-top: 4px;
    }

    .summary-list {
      font-size: 0.85rem;
      color: var(--text-sub);
      line-height: 1.6;
      padding-left: 1.1rem;
      margin: 4px 0 0;
    }

    /* ========= 圖表區 ========= */
    .chart-wrapper {
      padding-top: 8px;
    }

    .chart-placeholder {
      width: 100%;
      min-height: 220px;
      border-radius: 14px;
      background: radial-gradient(circle at top, rgba(56, 189, 248, 0.12) 0, rgba(15,23,42,0.95) 55%);
      border: 1px dashed rgba(148, 163, 184, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-sub);
      font-size: 0.85rem;
      text-align: center;
      padding: 8px;
    }

    /* 之後你接 Chart.js 時，把這個改成 canvas */
    /*
    canvas#keyMetricsChart {
      width: 100%;
      max-height: 260px;
    }
    */

    /* ========= 教練建議 ========= */
    .coach-notes {
      font-size: 0.9rem;
      color: var(--text-sub);
      line-height: 1.7;
    }

    .coach-notes strong {
      color: var(--text-main);
    }

    .bullet-list {
      margin-top: 4px;
      padding-left: 1.1rem;
    }

    .bullet-list li {
      margin-bottom: 2px;
    }

    /* ========= 成績表 ========= */
    .table-wrap {
      margin-top: 8px;
      border-radius: 16px;
      border: 1px solid rgba(148,163,184,0.5);
      overflow: hidden;
      background: rgba(15,23,42,0.98);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.8rem;
    }

    thead {
      background: rgba(15, 23, 42, 0.95);
    }

    thead th {
      padding: 8px 10px;
      text-align: right;
      font-weight: 500;
      color: var(--text-sub);
      border-bottom: 1px solid rgba(55, 65, 81, 0.9);
      white-space: nowrap;
    }

    thead th:first-child {
      text-align: left;
    }

    tbody tr:nth-child(odd) {
      background: rgba(15, 23, 42, 0.96);
    }

    tbody tr:nth-child(even) {
      background: rgba(15, 23, 42, 0.85);
    }

    tbody td {
      padding: 7px 10px;
      border-bottom: 1px solid rgba(31, 41, 55, 0.7);
      text-align: right;
      color: var(--text-main);
    }

    tbody td:first-child {
      text-align: left;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 999px;
      padding: 2px 10px;
      font-size: 0.72rem;
      font-weight: 500;
      color: var(--badge-text);
    }

    .badge-green {
      background: linear-gradient(135deg, var(--badge-green), #22c55e);
    }

    .badge-blue {
      background: linear-gradient(135deg, var(--badge-blue), #38bdf8);
    }

    .badge-yellow {
      background: linear-gradient(135deg, var(--badge-yellow), #facc15);
      color: #1f2933;
    }

    .badge-red {
      background: linear-gradient(135deg, var(--badge-red), #fb7185);
    }

    .footer-note {
      margin-top: 8px;
      font-size: 0.75rem;
      color: var(--text-sub);
      text-align: right;
    }

    /* ========= PDF / 列印樣式 ========= */
    @media print {
      html, body {
        background: #ffffff !important;
      }

      body {
        padding: 0;
      }

      .report-shell {
        box-shadow: none;
        border-radius: 0;
        border: none;
        background: #ffffff !important;
      }

      .report-shell::before {
        display: none;
      }

      .report-inner {
        color: #111827 !important;
      }

      .section {
        background: #ffffff !important;
        border: 1px solid #e5e7eb;
      }

      .header-row,
      .section-header h2,
      .card-main-line,
      .coach-notes strong,
      tbody td {
        color: #111827 !important;
      }

      .muted,
      .card-sub-line,
      .summary-list,
      .coach-notes {
        color: #4b5563 !important;
      }

      .table-wrap {
        background: #ffffff;
        border-color: #d1d5db;
      }

      thead {
        background: #f3f4f6 !important;
      }

      thead th {
        color: #374151 !important;
        border-bottom-color: #d1d5db;
      }

      tbody tr:nth-child(odd),
      tbody tr:nth-child(even) {
        background: #ffffff !important;
      }

      .badge {
        border: 1px solid #d1d5db;
        background: #ffffff !important;
        color: #111827 !important;
      }

      .btn,
      .controls-row {
        display: none !important; /* PDF 不要控制按鈕 */
      }
    }

    /* ========= RWD ========= */
    @media (max-width: 768px) {
      body {
        padding: 16px 8px;
      }

      .report-shell {
        padding: 18px 16px 22px;
        border-radius: 18px;
      }

      .header-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }

      .profile-grid {
        grid-template-columns: 1fr;
      }

      .profile-cards {
        grid-template-columns: 1fr;
      }

      .section {
        padding: 14px 14px;
      }

      thead {
        font-size: 0.78rem;
      }

      tbody td {
        font-size: 0.76rem;
      }
    }
  </style>
</head>
<body>
  <main class="report-shell">
    <div class="report-inner">
      <!-- 頁首 -->
      <header class="header-row">
        <div class="title-block">
          <div class="logo-row">
            <span class="logo-circle"></span>
            <span>Match Point Lab｜網球學院體能表現中心</span>
          </div>
          <h1 class="report-title">ACADEMY PERFORMANCE REPORT</h1>
          <p class="muted">本報告用於協助球員及家長了解體能現況與訓練方向，非正式醫學檢測。</p>
        </div>
        <div class="controls-row">
          <button class="btn" type="button">
            選擇學員 ▼
          </button>
          <button class="btn" type="button">
            重新載入 Google Sheets
          </button>
          <button class="btn btn-primary" type="button">
            產生 PDF 報告
          </button>
        </div>
      </header>

      <!-- 區塊：運動員基本資料 -->
      <section class="section">
        <div class="section-header">
          <span class="dot"></span>
          <h2>運動員基本資料</h2>
        </div>
        <div class="profile-grid">
          <div class="profile-cards">
            <div class="card">
              <div class="card-title">PLAYER PROFILE</div>
              <div class="card-main-line">李威錦</div>
              <div class="card-sub-line">分級：U16｜慣用手：右手</div>
              <div class="card-sub-line">測驗日期：2025-11-30｜測驗地點：Match Point Lab</div>
            </div>
            <div class="card">
              <div class="card-title">SESSION SUMMARY</div>
              <p class="card-sub-line">
                本次測驗以同級平均為基準，Z 分數落在 <strong>-0.5 ～ +0.5</strong> 視為區間內；<br>
                <strong>&gt; +1.0</strong> 為優勢指標；<strong>&lt; -1.0</strong> 則需優先補強。
              </p>
            </div>
            <div class="card">
              <div class="card-title">COACH</div>
              <div class="card-main-line">張教練</div>
              <div class="card-sub-line">角色：體能總教練｜專長：速度、敏捷、傷害預防</div>
            </div>
            <div class="card">
              <div class="card-title">TEST PACKAGE</div>
              <div class="card-main-line">競技體能完整檢測</div>
              <div class="card-sub-line">30m 速度、敏捷 T-test、跳躍、握力、核心穩定度等 18 項指標</div>
            </div>
          </div>
        </div>
      </section>

      <!-- 區塊：關鍵指標 + 圖表 -->
      <section class="section">
        <div class="section-header">
          <span class="dot"></span>
          <h2>關鍵指標：與同級平均的差距（最多 10 項）</h2>
        </div>

        <div class="chart-wrapper">
          <!-- 之後你可以改成 canvas + Chart.js -->
          <div class="chart-placeholder">
            這裡預留給關鍵指標長條圖（例如 Z 分數前 10 名）。<br />
            你可使用 Chart.js 將「本次成績 vs 同級平均」視覺化。
          </div>
          <!-- <canvas id="keyMetricsChart"></canvas> -->
        </div>
      </section>

      <!-- 區塊：教練建議 -->
      <section class="section">
        <div class="section-header">
          <span class="dot"></span>
          <h2>教練建議與短評</h2>
        </div>
        <div class="coach-notes">
          依照本次測驗結果，<strong>李威錦</strong> 與 U16 同級球員相比：
          <ul class="bullet-list">
            <li><strong>優勢指標：</strong> 短距離衝刺、握力、等長中段拉力，速度與力量具備競爭力。</li>
            <li><strong>待加強指標：</strong> 反應測試次數、水平軸跳（左）、耐力相關項目略低於同級平均。</li>
            <li><strong>整體評估：</strong> 已具備良好爆發力，若能強化下肢耐力與敏捷變向，將更有利於長局數拉鋸戰。</li>
          </ul>
          <p class="coach-notes">
            訓練安排上，建議未來 4～6 週可將部分訓練時間轉為
            <strong>耐力跑 + 多方向腳步訓練</strong>，並持續維持現有力量訓練頻率，以避免優勢指標下滑。
          </p>
        </div>
      </section>

      <!-- 區塊：成績表 -->
      <section class="section">
        <div class="section-header">
          <span class="dot"></span>
          <h2>本次檢測成績與同分級平均對照</h2>
        </div>
        <p class="muted" style="margin-bottom:6px;">
          下表列出所有體能指標的檢測成績，並與同一分級學員的平均值比較。Z 分數代表與同級平均的差距程度，
          「關鍵指標」代表在本次測驗中與同級平均差距最大的項目（前十名）。
        </p>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>指標</th>
                <th>學生</th>
                <th>同級平均</th>
                <th>SD</th>
                <th>Z 分數</th>
                <th>評估</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>衝刺直線跑 (m)</td>
                <td>8.7</td>
                <td>6.08</td>
                <td>1.09</td>
                <td>2.41</td>
                <td><span class="badge badge-green">優於同級・關鍵指標</span></td>
              </tr>
              <tr>
                <td>握力 (kg)</td>
                <td>51.9</td>
                <td>43.49</td>
                <td>5.56</td>
                <td>1.51</td>
                <td><span class="badge badge-blue">優於同級</span></td>
              </tr>
              <tr>
                <td>等長中段拉力 (N)</td>
                <td>2840</td>
                <td>1940.63</td>
                <td>390.65</td>
                <td>2.30</td>
                <td><span class="badge badge-green">優於同級・關鍵指標</span></td>
              </tr>
              <tr>
                <td>反應測試次數 (次)</td>
                <td>54</td>
                <td>49.71</td>
                <td>4.40</td>
                <td>-0.97</td>
                <td><span class="badge badge-red">建議補強</span></td>
              </tr>
              <tr>
                <td>水平軸跳 (左) (m)</td>
                <td>10.9</td>
                <td>11.77</td>
                <td>1.04</td>
                <td>-0.84</td>
                <td><span class="badge badge-yellow">接近同級</span></td>
              </tr>
              <tr>
                <td>平均橫移 (秒)</td>
                <td>121</td>
                <td>148.86</td>
                <td>50.04</td>
                <td>-0.58</td>
                <td><span class="badge badge-yellow">接近同級</span></td>
              </tr>
              <!-- 之後你可以用 JS 動態產生更多列 -->
            </tbody>
          </table>
        </div>

        <p class="footer-note">
          ※ 本報告僅供教練與學員溝通訓練方向之用，非正式醫學檢測。
        </p>
      </section>
    </div>
  </main>

  <!-- 這裡可以接你原本的 JS：讀取 Google Sheets、產生圖表、填入表格 -->
  <script>
    // TODO: 之後接上你的 Google Sheets / Chart.js 程式
    // 範例：
    // fetch(...).then(data => updateTable(data));
  </script>
</body>
</html>
