<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>é‹å‹•å“¡æª¢æ¸¬æ•¸æ“šè¼¸å…¥</title>

  <style>
    :root{
      --bg:#0b1220;
      --panel:#0f1a2e;
      --panel2:#0c1628;
      --card:#0f2236;
      --card2:#0b1b2c;
      --border: rgba(255,255,255,.10);
      --text:#eaf0ff;
      --muted: rgba(234,240,255,.70);
      --muted2: rgba(234,240,255,.55);
      --accent:#4CAF50;
      --accent2:#3ddc97;
      --warn:#f4c430;
      --danger:#ff5a7a;
      --ok:#34d399;
      --shadow: 0 16px 40px rgba(0,0,0,.35);
      --radius: 18px;
      --radius2: 14px;
      --ring: 0 0 0 4px rgba(76,175,80,.22);
      --font: "Microsoft JhengHei","PingFang TC","Noto Sans TC",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }

    /* Light mode */
    [data-theme="light"]{
      --bg:#f3f6fb;
      --panel:#ffffff;
      --panel2:#ffffff;
      --card:#ffffff;
      --card2:#ffffff;
      --border: rgba(15,23,42,.12);
      --text:#0f172a;
      --muted: rgba(15,23,42,.72);
      --muted2: rgba(15,23,42,.55);
      --shadow: 0 16px 40px rgba(15,23,42,.12);
      --ring: 0 0 0 4px rgba(76,175,80,.18);
    }

    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:var(--font);
      background:
        radial-gradient(1200px 600px at 20% -10%, rgba(76,175,80,.22), transparent 60%),
        radial-gradient(1000px 500px at 90% 10%, rgba(61,220,151,.16), transparent 55%),
        radial-gradient(900px 600px at 50% 120%, rgba(244,196,48,.10), transparent 60%),
        var(--bg);
      color:var(--text);
      min-height:100vh;
      padding:24px;
      display:flex;
      justify-content:center;
      align-items:flex-start;
    }

    .container{
      width:100%;
      max-width:980px;
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .topbar{
      display:flex;
      gap:14px;
      align-items:center;
      justify-content:space-between;
      padding:18px 18px 10px 18px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), transparent);
      border-bottom:1px solid var(--border);
    }

    .brand{
      display:flex;
      gap:12px;
      align-items:center;
      min-width:0;
    }
    .logo{
      width:42px;height:42px;border-radius:14px;
      background:
        radial-gradient(circle at 30% 30%, rgba(61,220,151,.9), rgba(76,175,80,.8) 45%, rgba(15,23,42,.0) 70%),
        linear-gradient(135deg, rgba(255,255,255,.16), rgba(255,255,255,.02));
      border:1px solid var(--border);
      box-shadow: 0 10px 22px rgba(0,0,0,.25);
      display:grid;place-items:center;
      flex:0 0 auto;
    }
    .logo span{font-size:18px}
    .titlewrap{min-width:0}
    h1{
      margin:0;
      font-size:18px;
      letter-spacing:.2px;
      line-height:1.2;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .subtitle{
      margin-top:4px;
      font-size:12px;
      color:var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .actions{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
    }

    .toggle{
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      color:var(--text);
      border-radius: 999px;
      padding:8px 10px;
      cursor:pointer;
      font-size:12px;
      transition: transform .08s ease, background .2s ease;
      user-select:none;
    }
    .toggle:hover{ background: rgba(255,255,255,.08); }
    .toggle:active{ transform: scale(.98); }

    .progressWrap{
      padding:0 18px 16px 18px;
    }
    .progressTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:8px;
      color:var(--muted);
      font-size:12px;
    }
    .progress{
      width:100%;
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.08);
      border:1px solid var(--border);
      overflow:hidden;
    }
    .progress > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      border-radius:999px;
      transition: width .25s ease;
    }

    form{ padding: 0 18px 18px 18px; }

    .section{
      margin-top:14px;
      border:1px solid var(--border);
      border-radius: var(--radius2);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      overflow:hidden;
    }

    .sectionHeader{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding:14px 14px;
      cursor:pointer;
      background: rgba(255,255,255,.03);
      border:0;
      color:var(--text);
      text-align:left;
    }
    .sectionHeader:hover{ background: rgba(255,255,255,.06); }

    .sectionTitle{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .badge{
      width:34px;height:34px;border-radius:12px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      display:grid;place-items:center;
      flex:0 0 auto;
    }
    .sectionTitle h2{
      margin:0;
      font-size:15px;
      letter-spacing:.2px;
    }
    .sectionTitle .hint{
      display:block;
      margin-top:3px;
      font-size:12px;
      color:var(--muted);
    }

    .chev{
      color:var(--muted);
      font-size:14px;
      transition: transform .18s ease;
      flex:0 0 auto;
    }
    .section[data-open="true"] .chev{ transform: rotate(180deg); }

    .sectionBody{
      padding:14px;
      display:none;
      background: rgba(0,0,0,.06);
    }
    [data-theme="light"] .sectionBody{ background: rgba(15,23,42,.03); }

    .section[data-open="true"] .sectionBody{ display:block; }

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:12px;
    }

    .field{
      grid-column: span 6;
      background: rgba(255,255,255,.03);
      border:1px solid var(--border);
      border-radius: 14px;
      padding:10px 10px 12px 10px;
      position:relative;
    }
    .field.w4{ grid-column: span 4; }
    .field.w6{ grid-column: span 6; }
    .field.w8{ grid-column: span 8; }
    .field.w12{ grid-column: span 12; }

    .labelRow{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:8px;
      margin-bottom:8px;
    }

    label{
      display:flex;
      align-items:center;
      gap:8px;
      font-weight:700;
      font-size:13px;
      color:var(--text);
    }

    .unit{
      font-size:12px;
      color:var(--muted2);
      font-weight:600;
    }

    input, select{
      width:100%;
      padding:12px 12px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(15,23,42,.35);
      color: var(--text);
      outline:none;
      font-size:15px;
      transition: border .15s ease, box-shadow .15s ease, background .15s ease;
    }
    [data-theme="light"] input, [data-theme="light"] select{
      background: rgba(255,255,255,.80);
      border:1px solid rgba(15,23,42,.14);
      color: var(--text);
    }

    input::placeholder{ color: rgba(234,240,255,.45); }
    [data-theme="light"] input::placeholder{ color: rgba(15,23,42,.38); }

    input:focus, select:focus{
      border-color: rgba(76,175,80,.7);
      box-shadow: var(--ring);
      background: rgba(76,175,80,.08);
    }
    [data-theme="light"] input:focus, [data-theme="light"] select:focus{
      background: rgba(76,175,80,.08);
    }

    .req{
      display:inline-flex;
      align-items:center;
      gap:6px;
      font-size:12px;
      color: rgba(255,255,255,.75);
    }
    [data-theme="light"] .req{ color: rgba(15,23,42,.70); }
    .reqDot{
      width:8px;height:8px;border-radius:999px;
      background: var(--warn);
      box-shadow: 0 0 0 3px rgba(244,196,48,.18);
    }

    .helper{
      margin-top:8px;
      font-size:12px;
      color: var(--muted);
      line-height:1.4;
    }

    /* sticky submit */
    .submitBar{
      position: sticky;
      bottom: 14px;
      margin-top: 16px;
      z-index: 50;
    }
    .submitInner{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      padding:12px;
      border-radius: 16px;
      border:1px solid var(--border);
      background: rgba(15,23,42,.68);
      backdrop-filter: blur(10px);
      box-shadow: 0 16px 40px rgba(0,0,0,.25);
    }
    [data-theme="light"] .submitInner{
      background: rgba(255,255,255,.82);
    }

    .statusLine{
      min-width:0;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    #status{
      font-weight:800;
      font-size:13px;
      min-height:18px;
      color: var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .statusSub{
      font-size:12px;
      color: var(--muted2);
    }

    .btn{
      border:0;
      cursor:pointer;
      border-radius: 14px;
      padding:12px 14px;
      font-size:15px;
      font-weight:900;
      color:#07120a;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      transition: transform .08s ease, filter .18s ease, opacity .18s ease;
      display:inline-flex;
      align-items:center;
      gap:10px;
      white-space:nowrap;
    }
    .btn:hover{ filter: brightness(1.05); }
    .btn:active{ transform: scale(.99); }
    .btn:disabled{
      opacity:.55;
      cursor:not-allowed;
      filter:none;
    }

    .btnGhost{
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      color: var(--text);
      font-weight:800;
    }
    .btnGhost:hover{ background: rgba(255,255,255,.08); }
    .btnGhost:disabled{ opacity:.55; }

    /* toast */
    .toast{
      position: fixed;
      right: 18px;
      top: 18px;
      z-index: 9999;
      max-width: 340px;
      padding: 12px 12px;
      border-radius: 16px;
      border:1px solid var(--border);
      background: rgba(15,23,42,.78);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 44px rgba(0,0,0,.35);
      color: var(--text);
      display:none;
      gap:10px;
      align-items:flex-start;
    }
    [data-theme="light"] .toast{ background: rgba(255,255,255,.86); }
    .toast.show{ display:flex; }
    .toastIcon{
      width:34px;height:34px;border-radius: 14px;
      display:grid;place-items:center;
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      flex: 0 0 auto;
    }
    .toastTitle{ font-weight:900; margin:0; font-size:13px; }
    .toastMsg{ margin:2px 0 0 0; color: var(--muted); font-size:12px; line-height:1.4; }

    /* small screens */
    @media (max-width: 760px){
      body{ padding:14px; }
      .topbar{ gap:10px; }
      .chip{ display:none; }
      .field{ grid-column: span 12; }
      .field.w4,.field.w6,.field.w8,.field.w12{ grid-column: span 12; }
      .submitInner{ flex-direction:column; align-items:stretch; }
      .btn, .btnGhost{ width:100%; justify-content:center; }
      #status{ text-align:center; }
      .statusSub{ text-align:center; }
    }
  </style>
</head>

<body>
             
  <div class="container" id="app">
    <div class="topbar">
      <div class="brand">
        <img class="logo" src="https://aschangaspossible.github.io/logo.jpeg" alt="logo" />
        <div class="titlewrap">
          <h1>é‹å‹•å“¡æª¢æ¸¬æ•¸æ“šè¼¸å…¥</h1>
          <div class="subtitle">æ›´å¥½å¡«ã€æ›´å¥½çœ‹ã€æ›´ä¸å®¹æ˜“å¡«éŒ¯ï¼ˆæ•™ç·´ç‰ˆ UIï¼‰</div>
        </div>
      </div>

      <div class="actions">
        <div class="chip" id="filledChip">å·²å¡«ï¼š0 / 0</div>
        <button class="toggle" type="button" id="themeBtn">ğŸŒ“ åˆ‡æ›æ¨¡å¼</button>
      </div>
    </div>

    <div class="progressWrap">
      <div class="progressTop">
        <div>å®Œæˆåº¦</div>
        <div id="progressText">0%</div>
      </div>
      <div class="progress" aria-label="form progress">
        <div id="progressBar"></div>
      </div>
    </div>

    <form id="dataForm" novalidate>
      <!-- åŸºæœ¬è³‡æ–™ -->
      <div class="section" data-open="true">
        <button type="button" class="sectionHeader" data-section-toggle>
          <div class="sectionTitle">
            <div class="badge">ğŸ‘¤</div>
            <div>
              <h2>åŸºæœ¬è³‡æ–™ <span class="req"><span class="reqDot"></span>å¿…å¡«åŒ…å«å§“åã€æ—¥æœŸ</span></h2>
              <span class="hint">å…ˆæŠŠã€Œäººã€é¸å°ï¼Œå¾Œé¢æ‰ä¸æœƒè®Šæˆäº‚å…¥çš„æ•¸æ“šé¬¼æ•…äº‹</span>
            </div>
          </div>
          <div class="chev">â–¾</div>
        </button>

        <div class="sectionBody">
          <div class="grid">
            <div class="field w6">
              <div class="labelRow">
                <label for="name">å§“å <span class="unit">å¿…å¡«</span></label>
              </div>
              <input id="name" type="text" name="å§“å" required placeholder="é¸æ‰‹å§“å" autocomplete="name" />
              <div class="helper">å»ºè­°ç”¨ã€ŒçœŸå¯¦å§“åæˆ–å›ºå®šä»£ç¢¼ã€ï¼Œé¿å…åŒåé€ æˆæŸ¥è©¢æ··äº‚ã€‚</div>
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label for="gender">æ€§åˆ¥</label>
              </div>
              <select id="gender" name="æ€§åˆ¥">
                <option value="ç”·">ç”·</option>
                <option value="å¥³">å¥³</option>
              </select>
              <div class="helper">å¦‚æœä¹‹å¾Œè¦åšåˆ†çµ„æ¯”è¼ƒï¼ˆåŒé½¡/åŒé …ï¼‰ï¼Œé€™æ¬„å¾ˆæœ‰ç”¨ã€‚</div>
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label for="age">å¹´é½¡ (Uå±¤ç´š)</label>
              </div>
              <select id="age" name="å¹´é½¡">
                <option value="U16">U16</option>
                <option value="U18">U18</option>
                <option value="Adult">Adult</option>
              </select>
              <div class="helper">ç¶­æŒå›ºå®šåˆ†é¡ï¼Œå¾Œé¢åœ–è¡¨æœƒæ›´ä¹¾æ·¨ã€‚</div>
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label for="date">æª¢æ¸¬æ—¥æœŸ <span class="unit">å¿…å¡«</span></label>
              </div>
              <input id="date" type="date" name="æª¢æ¸¬æ—¥æœŸ" required />
              <div class="helper">é è¨­ä»Šå¤©ã€‚è‹¥æ˜¯è£œç™»è³‡æ–™ï¼Œè¨˜å¾—æ”¹æˆå¯¦éš›æ¸¬é©—æ—¥ã€‚</div>
            </div>
          </div>
        </div>
      </div>

      <!-- è·³èºèˆ‡çˆ†ç™¼åŠ› -->
      <div class="section" data-open="true">
        <button type="button" class="sectionHeader" data-section-toggle>
          <div class="sectionTitle">
            <div class="badge">ğŸš€</div>
            <div>
              <h2>è·³èºèˆ‡çˆ†ç™¼åŠ›</h2>
              <span class="hint">é€™å€æ•¸å­—æœƒå¾ˆç›´è¦ºåœ°åæ˜ ã€Œèµ·çˆ†ã€èˆ‡ã€Œè¼¸å‡ºã€</span>
            </div>
          </div>
          <div class="chev">â–¾</div>
        </button>

        <div class="sectionBody">
          <div class="grid">
            <div class="field w6">
              <div class="labelRow">
                <label>CMJ</label><span class="unit">cm</span>
              </div>
              <input type="number" step="0.1" name="CMJ(cm)" inputmode="decimal" placeholder="0.0" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>Hop test 10/5</label><span class="unit">m/s</span>
              </div>
              <input type="number" step="0.01" name="Hop test 10/5(m/s)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>å´è·³ï¼ˆå·¦ï¼‰</label><span class="unit">m</span>
              </div>
              <input type="number" step="0.01" name="å´è·³(å·¦)(m)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>å´è·³ï¼ˆå³ï¼‰</label><span class="unit">m</span>
              </div>
              <input type="number" step="0.01" name="å´è·³(å³)(m)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>Broad jump</label><span class="unit">m</span>
              </div>
              <input type="number" step="0.01" name="Broad jump(m)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>IMTP</label><span class="unit">N</span>
              </div>
              <input type="number" name="IMTP(N)" inputmode="numeric" placeholder="0" />
            </div>
          </div>
        </div>
      </div>

      <!-- åŠ›é‡è¡¨ç¾ -->
      <div class="section" data-open="false">
        <button type="button" class="sectionHeader" data-section-toggle>
          <div class="sectionTitle">
            <div class="badge">ğŸ’ª</div>
            <div>
              <h2>åŠ›é‡è¡¨ç¾</h2>
              <span class="hint">å¦‚æœè¦çœ‹ã€Œåº•ç›¤ç©©ä¸ç©©ã€ï¼Œé€™å€å¾ˆé—œéµ</span>
            </div>
          </div>
          <div class="chev">â–¾</div>
        </button>

        <div class="sectionBody">
          <div class="grid">
            <div class="field w6">
              <div class="labelRow">
                <label>ç¡¬æ‹‰</label><span class="unit">kg</span>
              </div>
              <input type="number" step="0.1" name="ç¡¬æ‹‰(kg)" inputmode="decimal" placeholder="0.0" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>Grip strength</label><span class="unit">kgï¼ˆæˆ–ä½ åŸæœ¬å–®ä½ï¼‰</span>
              </div>
              <input type="number" step="0.1" name="Grip strength" inputmode="decimal" placeholder="0.0" />
            </div>
          </div>
        </div>
      </div>

      <!-- æ‹‹çƒèˆ‡è·¨æ­¥ -->
      <div class="section" data-open="false">
        <button type="button" class="sectionHeader" data-section-toggle>
          <div class="sectionTitle">
            <div class="badge">âš¡</div>
            <div>
              <h2>æ‹‹çƒèˆ‡è·¨æ­¥</h2>
              <span class="hint">ä¸Šè‚¢/æ ¸å¿ƒåˆ°ä¸‹è‚¢çš„ã€Œèƒ½é‡å‚³éã€ï¼Œå¾€å¾€è—åœ¨é€™è£¡</span>
            </div>
          </div>
          <div class="chev">â–¾</div>
        </button>

        <div class="sectionBody">
          <div class="grid">
            <div class="field w6">
              <div class="labelRow">
                <label>è·ªå§¿éé ‚æ‹‹</label><span class="unit">m</span>
              </div>
              <input type="number" step="0.01" name="è·ªå§¿éé ‚æ‹‹(m)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>éé ‚æ‹‹</label><span class="unit">m</span>
              </div>
              <input type="number" step="0.01" name="éé ‚æ‹‹(m)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>è·ªå§¿æ°´å¹³æ‹‹ï¼ˆå·¦ï¼‰</label><span class="unit">m</span>
              </div>
              <input type="number" step="0.01" name="è·ªå§¿æ°´å¹³æ‹‹(å·¦)(m)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>è·ªå§¿æ°´å¹³æ‹‹ï¼ˆå³ï¼‰</label><span class="unit">m</span>
              </div>
              <input type="number" step="0.01" name="è·ªå§¿æ°´å¹³æ‹‹(å³)(m)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>æ°´å¹³æ‹‹ï¼ˆå·¦ï¼‰</label><span class="unit">m</span>
              </div>
              <input type="number" step="0.01" name="æ°´å¹³æ‹‹(å·¦)(m)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>æ°´å¹³æ‹‹ï¼ˆå³ï¼‰</label><span class="unit">m</span>
              </div>
              <input type="number" step="0.01" name="æ°´å¹³æ‹‹(å³)(m)" inputmode="decimal" placeholder="0.00" />
            </div>
          </div>
        </div>
      </div>

      <!-- æ ¸å¿ƒèˆ‡è‚Œè€åŠ› -->
      <div class="section" data-open="false">
        <button type="button" class="sectionHeader" data-section-toggle>
          <div class="sectionTitle">
            <div class="badge">ğŸ§±</div>
            <div>
              <h2>æ ¸å¿ƒèˆ‡è‚Œè€åŠ›</h2>
              <span class="hint">æœ€å¸¸è¢«å¿½ç•¥ï¼Œä½†æœ€å¸¸é€ æˆã€Œå‹•ä½œå‹æ…‹å´©å£ã€</span>
            </div>
          </div>
          <div class="chev">â–¾</div>
        </button>

        <div class="sectionBody">
          <div class="grid">
            <div class="field w6">
              <div class="labelRow">
                            <div class="field w4">
              <div class="labelRow">
                <label>Push up</label><span class="unit">æ¬¡</span>
              </div>
              <input type="number" name="Push up(æ¬¡æ•¸)" inputmode="numeric" placeholder="0" />
            </div>

            <div class="field w4">
              <div class="labelRow">
                <label>Inverted row</label><span class="unit">æ¬¡</span>
              </div>
              <input type="number" name="Inverted row(æ¬¡æ•¸)" inputmode="numeric" placeholder="0" />
            </div>

            <div class="field w4">
              <div class="labelRow">
                <label>Plank</label><span class="unit">ç§’</span>
              </div>
              <input type="number" name="Plank(ç§’)" inputmode="numeric" placeholder="0" />
            </div>
          </div>
        </div>
      </div>

      <!-- è¡åˆºèˆ‡å…¶ä»– -->
      <div class="section" data-open="true">
        <button type="button" class="sectionHeader" data-section-toggle>
          <div class="sectionTitle">
            <div class="badge">ğŸƒ</div>
            <div>
              <h2>è¡åˆºèˆ‡å…¶ä»–</h2>
              <span class="hint">é€Ÿåº¦èˆ‡æ•æ·ï¼šæœ€å®¹æ˜“ã€Œå°‘æ‰“ä¸€å€‹å°æ•¸é»å°±å‡ºäº‹ã€çš„åœ°æ–¹</span>
            </div>
          </div>
          <div class="chev">â–¾</div>
        </button>

        <div class="sectionBody">
          <div class="grid">
            <div class="field w6">
              <div class="labelRow">
                <label>10ç±³è¡åˆº</label><span class="unit">ç§’</span>
              </div>
              <input type="number" step="0.01" name="10ç±³è¡åˆº(ç§’)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>20ç±³è¡åˆº</label><span class="unit">ç§’</span>
              </div>
              <input type="number" step="0.01" name="20ç±³è¡åˆº(ç§’)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>505æ•æ·è·‘ï¼ˆå³ï¼‰</label><span class="unit">ç§’</span>
              </div>
              <input type="number" step="0.01" name="505æ•æ·è·‘(å³)(ç§’)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>505æ•æ·è·‘ï¼ˆå·¦ï¼‰</label><span class="unit">ç§’</span>
              </div>
              <input type="number" step="0.01" name="505æ•æ·è·‘(å·¦)(ç§’)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>èœ˜è››è·‘</label><span class="unit">ç§’</span>
              </div>
              <input type="number" step="0.01" name="èœ˜è››è·‘(ç§’)" inputmode="decimal" placeholder="0.00" />
            </div>

            <div class="field w6">
              <div class="labelRow">
                <label>åæ‡‰ç‡ˆæ¸¬è©¦</label><span class="unit">æ¬¡</span>
              </div>
              <input type="number" name="åæ‡‰ç‡ˆæ¸¬è©¦(æ¬¡æ•¸)" inputmode="numeric" placeholder="0" />
            </div>
          </div>
        </div>
      </div>

      <!-- Sticky submit bar -->
      <div class="submitBar">
        <div class="submitInner">
          <div class="statusLine">
            <div id="status">æº–å‚™å°±ç·’ï¼šå¡«å®Œå°±é€ï¼ˆåˆ¥æ“”å¿ƒï¼Œæˆ‘ä¸æœƒæŠŠä½ çš„å°æ•¸é»åæ‰ï¼‰</div>
            <div class="statusSub" id="statusSub">æç¤ºï¼šå¯é»å„å€æ¨™é¡Œæ”¶åˆ/å±•é–‹ï¼ŒåŠ å¿«ç¾å ´æ“ä½œã€‚</div>
          </div>

          <div style="display:flex; gap:10px; width:100%; justify-content:flex-end;">
            <button class="btn btnGhost" type="button" id="resetBtn">ğŸ§¹ æ¸…ç©ºè¡¨å–®</button>
            <button class="btn" type="submit" id="submitBtn">ğŸ“¤ é€å‡ºè³‡æ–™</button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite">
    <div class="toastIcon" id="toastIcon">âœ…</div>
    <div>
      <p class="toastTitle" id="toastTitle">å®Œæˆ</p>
      <p class="toastMsg" id="toastMsg">å·²å¯«å…¥è³‡æ–™ã€‚</p>
    </div>
  </div>

  <script>
    // âœ… ä½ çš„ Apps Script ç¶²å€ (ç¶­æŒä¸è®Š)
    const scriptURL = 'https://script.google.com/macros/s/AKfycbxb8LVDD2OyyAHB-p93iZT8PjyrIzLHy16bqF7V_3xkdmMXaBbUZ1eFP1Gzi5G0ycuKNA/exec';

    const app = document.getElementById('app');
    const form = document.getElementById('dataForm');
    const btn = document.getElementById('submitBtn');
    const resetBtn = document.getElementById('resetBtn');
    const statusMsg = document.getElementById('status');
    const statusSub = document.getElementById('statusSub');

    // progress
    const progressBar = document.getElementById('progressBar');
    const progressText = document.getElementById('progressText');
    const filledChip = document.getElementById('filledChip');

    // toast
    const toast = document.getElementById('toast');
    const toastIcon = document.getElementById('toastIcon');
    const toastTitle = document.getElementById('toastTitle');
    const toastMsg = document.getElementById('toastMsg');
    let toastTimer = null;

    function showToast(type, title, msg){
      clearTimeout(toastTimer);
      toastIcon.textContent = type === 'ok' ? 'âœ…' : (type === 'warn' ? 'âš ï¸' : 'âŒ');
      toastTitle.textContent = title;
      toastMsg.textContent = msg;
      toast.classList.add('show');
      toastTimer = setTimeout(() => toast.classList.remove('show'), 2600);
    }

    // theme toggle (remember)
    const themeBtn = document.getElementById('themeBtn');
    const savedTheme = localStorage.getItem('athlete_form_theme');
    if(savedTheme){
      document.documentElement.setAttribute('data-theme', savedTheme);
    }
    themeBtn.addEventListener('click', () => {
      const now = document.documentElement.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', now);
      localStorage.setItem('athlete_form_theme', now);
    });

    // sections collapse
    document.querySelectorAll('[data-section-toggle]').forEach(btn => {
      btn.addEventListener('click', () => {
        const section = btn.closest('.section');
        const open = section.getAttribute('data-open') === 'true';
        section.setAttribute('data-open', open ? 'false' : 'true');
      });
    });

    // default date = today
    function setToday(){
      const today = new Date().toISOString().split('T')[0];
      const dateInput = document.getElementsByName("æª¢æ¸¬æ—¥æœŸ")[0];
      if(dateInput) dateInput.value = today;
    }
    document.addEventListener('DOMContentLoaded', setToday);

    // progress calc
    const inputs = Array.from(form.querySelectorAll('input, select'))
      .filter(el => el.name && el.type !== 'button' && el.type !== 'submit');

    function isFilled(el){
      if(el.tagName === 'SELECT') return !!el.value;
      if(el.type === 'date') return !!el.value;
      return (el.value !== null && String(el.value).trim() !== '');
    }

    function updateProgress(){
      const total = inputs.length;
      const filled = inputs.reduce((acc, el) => acc + (isFilled(el) ? 1 : 0), 0);
      const pct = total === 0 ? 0 : Math.round((filled / total) * 100);

      progressBar.style.width = pct + '%';
      progressText.textContent = pct + '%';
      filledChip.textContent = `å·²å¡«ï¼š${filled} / ${total}`;
    }

    inputs.forEach(el => el.addEventListener('input', updateProgress));
    inputs.forEach(el => el.addEventListener('change', updateProgress));
    updateProgress();

    // required validation highlight (å§“åã€æª¢æ¸¬æ—¥æœŸ)
    function validateRequired(){
      const requiredFields = Array.from(form.querySelectorAll('[required]'));
      let ok = true;
      requiredFields.forEach(el => {
        const wrapper = el.closest('.field');
        if(!isFilled(el)){
          ok = false;
          if(wrapper) wrapper.style.boxShadow = '0 0 0 4px rgba(255,90,122,.18)';
          el.style.borderColor = 'rgba(255,90,122,.65)';
        }else{
          if(wrapper) wrapper.style.boxShadow = '';
          el.style.borderColor = '';
        }
      });
      return ok;
    }

    // reset button
    resetBtn.addEventListener('click', () => {
      form.reset();
      setToday();
      updateProgress();
      statusMsg.style.color = '';
      statusMsg.textContent = 'å·²æ¸…ç©ºï¼šé‡æ–°å¡«å¯«ä¹Ÿæ²’é—œä¿‚ï¼Œæ•¸æ“šä¸æœƒè¨˜ä»‡ã€‚';
      showToast('warn', 'å·²æ¸…ç©º', 'è¡¨å–®å·²é‡ç½®ï¼ˆæ—¥æœŸå·²å›åˆ°ä»Šå¤©ï¼‰ã€‚');
      // remove highlights
      form.querySelectorAll('.field').forEach(f => f.style.boxShadow = '');
      form.querySelectorAll('input, select').forEach(el => el.style.borderColor = '');
    });

    // submit
    form.addEventListener('submit', e => {
      e.preventDefault();

      // validate
      const ok = validateRequired();
      if(!ok){
        statusMsg.style.color = 'var(--danger)';
        statusMsg.textContent = 'âŒ å…ˆæŠŠå¿…å¡«çš„ã€Œå§“åã€æª¢æ¸¬æ—¥æœŸã€è£œä¸Šï¼Œå†é€å‡ºã€‚';
        showToast('error', 'ç¼ºå°‘å¿…å¡«', 'è«‹å¡«å¯«å§“åèˆ‡æª¢æ¸¬æ—¥æœŸã€‚');
        return;
      }

      btn.disabled = true;
      resetBtn.disabled = true;
      btn.textContent = "â³ è³‡æ–™å‚³é€ä¸­...";
      statusMsg.style.color = '';
      statusMsg.textContent = "å‚³é€ä¸­â€¦ï¼ˆno-cors æ¨¡å¼ä¸‹ç€è¦½å™¨ä¸æœƒå›å‚³çµæœï¼Œä½†ä½ å·²ç¶“èƒ½å¯«å…¥ï¼‰";
      statusSub.textContent = "é€å‡ºå¾Œæœƒè‡ªå‹•æ¸…ç©ºï¼ˆæ—¥æœŸä¿ç•™ä»Šå¤©ï¼‰ã€‚";

      const formData = new FormData(form);
      const data = {};
      formData.forEach((value, key) => {
        if(value !== null && String(value).trim() !== '') data[key] = value;
      });

      console.log("å‚³é€è³‡æ–™:", data);

      fetch(scriptURL, {
        method: 'POST',
        body: JSON.stringify(data),
        mode: 'no-cors',
        headers: { 'Content-Type': 'application/json' }
      })
      .then(() => {
        statusMsg.style.color = 'var(--ok)';
        statusMsg.textContent = "âœ… å·²é€å‡ºï¼è³‡æ–™å·²å¯«å…¥ï¼ˆè¡¨å–®å·²æ¸…ç©ºï¼‰";
        showToast('ok', 'å·²é€å‡º', 'è³‡æ–™å·²å¯«å…¥ï¼Œè¡¨å–®å·²æ¸…ç©ºï¼ˆæ—¥æœŸä¿ç•™ä»Šå¤©ï¼‰ã€‚');

        form.reset();
        setToday();
        updateProgress();

        // remove highlights
        form.querySelectorAll('.field').forEach(f => f.style.boxShadow = '');
        form.querySelectorAll('input, select').forEach(el => el.style.borderColor = '');

        setTimeout(() => {
          btn.disabled = false;
          resetBtn.disabled = false;
          btn.textContent = "ğŸ“¤ é€å‡ºè³‡æ–™";
          statusMsg.style.color = '';
          statusMsg.textContent = "æº–å‚™å°±ç·’ï¼šä¸‹ä¸€ä½é¸æ‰‹ä¸Šå ´ï¼ˆæˆ‘çŸ¥é“ä½ å€‘éƒ½åœ¨è¶•æ™‚é–“ï¼‰";
          statusSub.textContent = "å°æé†’ï¼šè‹¥æ•¸å€¼æ˜¯ã€Œ0ã€ä¹Ÿè«‹ç›´æ¥å¡« 0ï¼Œé¿å…è¢«ç•¶æˆç©ºå€¼ã€‚";
        }, 1400);
      })
      .catch(error => {
        console.error('Error!', error.message);
        statusMsg.style.color = 'var(--danger)';
        statusMsg.textContent = "âŒ ç™¼ç”ŸéŒ¯èª¤ï¼šè«‹æª¢æŸ¥ç¶²è·¯æˆ– Apps Script éƒ¨ç½²";
        statusSub.textContent = "è‹¥ä½ è¦åšåˆ°ã€Œç¢ºå®šå¯«å…¥æˆåŠŸæ‰é¡¯ç¤ºâœ…ã€ï¼Œå°±ä¸èƒ½ç”¨ no-corsï¼ˆæˆ‘ä¹Ÿå¯ä»¥å¹«ä½ æ”¹æˆå¯å›å‚³çµæœçš„ç‰ˆæœ¬ï¼‰ã€‚";
        showToast('error', 'å‚³é€å¤±æ•—', 'è«‹æª¢æŸ¥ç¶²è·¯æˆ– Apps Script è¨­å®šã€‚');

        btn.disabled = false;
        resetBtn.disabled = false;
        btn.textContent = "ğŸ“¤ é€å‡ºè³‡æ–™";
      });
    });
  </script>
</body>
</html>
